# ğŸ® Unity ê³µë¶€ ê¸°ë¡ (2024-02-17)

## 1. íŒŒí‹°í´ ì‹œìŠ¤í…œ ê°œìš”
ğŸ”¹ ParticleSystemì´ë€?
- ì‘ì€ ì…ì(íŒŒí¸, ì—°ê¸°, ë¶ˆê½ƒ ë“±)ë¥¼ ìƒì„±í•˜ì—¬ ì‹œê°ì  íš¨ê³¼ë¥¼ ì—°ì¶œí•˜ëŠ” ì‹œìŠ¤í…œ
- ```ParticleSystem``` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ì–‘í•œ íš¨ê³¼ êµ¬í˜„ ê°€ëŠ¥
- ```GameObject```ì— ë¶€ì°©í•˜ì—¬ ì‚¬ìš©í•˜ë©°, Play() ë° Stop()ìœ¼ë¡œ ì œì–´ ê°€ëŠ¥

---

## 2. Unity íŒŒí‹°í´ ìµœì í™” ë° ê´€ë¦¬ ë°©ì‹
### ğŸ“Œ GameManagerì—ì„œ ParticleSystemì„ ì§ì ‘ ì°¸ì¡°í•˜ë©´ ìœ ë‹›ë§ˆë‹¤ ê°œë³„ì ìœ¼ë¡œ íŒŒí‹°í´ì„ ê°€ì§€ê²Œ ë˜ì–´ ë¹„íš¨ìœ¨ì 
```csharp
private void HitParticle()
{
    ParticleSystem.transform.position = transform.position;
    ParticleSystem.Play();
}

```
âŒ ë¬¸ì œì 
- ``ParticleSystem``ì´ ê°ê°ì˜ ì˜¤ë¸Œì íŠ¸ì— ì¡´ì¬í•˜ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€
- ì¤‘ë³µëœ ``ParticleSystem``ì´ ë§ì•„ì§€ë©´ ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥

---
### âœ… GameManagerì—ì„œ íŒŒí‹°í´ì„ ê³µìœ í•˜ëŠ” ë°©ì‹ (ìµœì í™”)

ğŸ“Œ GameManagerì—ì„œ Inspectorì— ì—¬ëŸ¬ ê°œì˜ ParticleSystemì„ ì§ì ‘ í• ë‹¹í•˜ê³  ì¬ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ ìµœì í™” ê°€ëŠ¥
```csharp
public class GameManager : Singleton<GameManager>
{
    [SerializeField] private ParticleSystem hitEffect;
    [SerializeField] private ParticleSystem explosionEffect;
    [SerializeField] private ParticleSystem shootEffect;

    public void PlayParticle(string particleName, Vector3 position)
    {
        ParticleSystem selectedParticle = null;

        switch (particleName)
        {
            case "HitEffect":
                selectedParticle = hitEffect;
                break;
            case "ExplosionEffect":
                selectedParticle = explosionEffect;
                break;
            case "ShootEffect":
                selectedParticle = shootEffect;
                break;
            default:
                Debug.LogError($"âŒ '{particleName}' íŒŒí‹°í´ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!");
                return;
        }

        if (selectedParticle != null)
        {
            selectedParticle.transform.position = position;
            selectedParticle.Stop();
            selectedParticle.Clear();
            selectedParticle.Play();
        }
    }
}
```
âœ” ì¥ì 
- ìœ ë‹›ì´ ``GameManager.Instance.PlayParticle("HitEffect", transform.position);``ë§Œ í˜¸ì¶œí•˜ë©´ ë¨
- ê°ê°ì˜ ``ParticleSystem``ì„ Inspectorì—ì„œ ì§ì ‘ ê´€ë¦¬ ê°€ëŠ¥ (Drag & Dropìœ¼ë¡œ ì—°ê²°)
- ìœ ë‹›ë§ˆë‹¤ ê°œë³„ ``ParticleSystem``ì„ ê°€ì§ˆ í•„ìš” ì—†ì´ ê³µìœ  ê°€ëŠ¥ â†’ ì„±ëŠ¥ ìµœì í™”
---
### âœ… ``List<ParticleSystem>``ì„ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” ë°©ì‹ (ë” ê¹”ë”í•œ ë°©ì‹)

ğŸ“Œ ``switch-case`` ì—†ì´ ``List<ParticleSystem>``ì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ ë” ê°„ê²°í•´ì§.
```csharp
public class GameManager : Singleton<GameManager>
{
    [SerializeField] private List<ParticleSystem> particleSystems;

    public enum ParticleType
    {
        HitEffect,
        ExplosionEffect,
        ShootEffect
    }

    public void PlayParticle(ParticleType type, Vector3 position)
    {
        int index = (int)type;

        if (index >= 0 && index < particleSystems.Count && particleSystems[index] != null)
        {
            ParticleSystem selectedParticle = particleSystems[index];
            selectedParticle.transform.position = position;
            selectedParticle.Stop();
            selectedParticle.Clear();
            selectedParticle.Play();
        }
        else
        {
            Debug.LogError($"âŒ '{type}' íŒŒí‹°í´ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜, í• ë‹¹ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!");
        }
    }
}
```
âœ” ì¥ì 
- switch-case ì—†ì´ List<ParticleSystem>ì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œê°€ ë‹¨ìˆœí™”ë¨
- Inspectorì—ì„œ Listì— ì›í•˜ëŠ” íŒŒí‹°í´ì„ Drag & Dropí•˜ì—¬ ì‰½ê²Œ ì¶”ê°€ ê°€ëŠ¥
- GameManager.Instance.PlayParticle(GameManager.ParticleType.HitEffect, transform.position); ë§Œ í˜¸ì¶œí•˜ë©´ ì‚¬ìš© ê°€ëŠ¥
---
## 3. ìµœì í™” íŒ
âœ” ``GameManager``ì—ì„œ ``ParticleSystem``ì„ ê³µìœ í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ë©”ëª¨ë¦¬ ì ˆì•½  
âœ” ``Object Pooling``ì„ í™œìš©í•˜ì—¬ Instantiate() ë‚¨ë°œì„ í”¼í•˜ê³  ì„±ëŠ¥ ìµœì í™”  
âœ” ``Looping``ì„ ë¹„í™œì„±í™”í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì—°ì‚° ìµœì†Œí™” (``Play()``ë¡œ í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰)  
âœ” ``ì”¬ì—ì„œ íŒŒí‹°í´ì´ ê°€ë ¤ì§€ì§€ ì•Šë„ë¡ ``Sorting Layer``ì™€ ``Order in Layer`` ì¡°ì •  

---
ğŸ”¥ ìµœì¢… ì •ë¦¬

âœ… GameManagerì—ì„œ íŒŒí‹°í´ì„ ê³µìœ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ ğŸ¯  
âœ… switch-case ì—†ì´ List<ParticleSystem>ì„ ì‚¬ìš©í•˜ì—¬ ê°„ê²°í•œ ì½”ë“œ ìœ ì§€ ğŸ¯  

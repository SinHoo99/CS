ğŸ® Unity ê³µë¶€ ê¸°ë¡ (2025-02-27)

## 1. ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ ğŸ¯
- [ ] ë³´ìŠ¤ê°€ ì£½ê³ ë‚˜ì„œ ê·¸ ë‹¤ìŒ ë³´ìŠ¤ ì•„ì´ë””ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ì§€ë§Œ ê·¸ë ‡ì§€ ëª»í•˜ê³ ìˆìŒ
- [ ] ë””ë²„ê·¸ë¥¼ ì°ê³  ë¬¸ì œ í™•ì¸ í•˜ê¸°
---


## 2. í•™ìŠµí•œ ê°œë… ğŸ“
### ğŸ”¹ 1. ë¬¸ì œ ë°œìƒ
```csharp
// (ì„¤ëª…) ë³´ìŠ¤ ë‹¤ìŒ ì•„ì´ë”” ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„
using UnityEngine;

public class Boss : MonoBehaviour
{
    private void OnDie()
    {
        var nextBossID = GetNextBossID();
        Debug.Log($"[Boss] í˜„ì¬ ë³´ìŠ¤ ID: {BossRuntimeData.CurrentBossID} â†’ ë‹¤ìŒ ë³´ìŠ¤ ID: {nextBossID}");
        BossRuntimeData.CurrentBossID = nextBossID;
        Invoke(nameof(Respawn), 3f);
    }
}
```
![image](https://github.com/user-attachments/assets/e17b90d4-ef20-468d-b7b1-4bd152f4e591)  
- ë³´ë‹¤ ì‹œí”¼ ë‹¤ìŒ ë³´ìŠ¤ì˜ ì•„ì´ë””ë¥¼ ì—¬ëŸ¬ë²ˆ ê°€ì ¸ì˜¤ê³ ìˆìŒ.
- ì´ë¥¼ í†µí•´ ì‚¬ë§ ì´ë²¤íŠ¸ê°€ ì¤‘ë³µ ë°œìƒí•˜ì—¬, ê³„ì† IDë¥¼ ê°€ì ¸ì™€ ëœë¤í•˜ê²Œ ë°”ë€ŒëŠ” ê²ƒì²˜ëŸ¼ ë³´ì„.

### ğŸ”¹ 2. ì›ì¸ ë¶„ì„
1. ``HealthSystem.OnDeath`` ì´ë²¤íŠ¸ ì¤‘ë³µìœ¼ë¡œ ë°œìƒí–ˆì„ ê°€ëŠ¥ì„±
    - ``HealthSystem.OnDeath`` ì´ë²¤íŠ¸ ì¤‘ë³µ ë“±ë¡ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì´ˆê¸°í™” ì‹œ ê¸°ì¡´ ì´ë²¤íŠ¸ ì œê±° í›„ ë‹¤ì‹œ ë“±ë¡ ``(OnDeath -= OnDie)``
```csharp
// HealthSystem.OnDeathë¥¼ ì´ë²¤íŠ¸ ë“±ë¡í•  ë•Œ ê¸°ì¡´ ì´ë²¤íŠ¸ë¥¼ ì œê±°í•˜ê³  ë“±ë¡
private void InitializeBoss()
{
    BossData = GM.GetBossData(GM.BossDataManager.BossRuntimeData.CurrentBossID);

    // ê¸°ì¡´ ì´ë²¤íŠ¸ë¥¼ ì œê±° í›„ ë‹¤ì‹œ ë“±ë¡
    HealthSystem.OnDeath -= OnDie;
    HealthSystem.OnDeath += OnDie;

    HealthSystem.OnChangeHP -= HandleChangeHP;
    HealthSystem.OnChangeHP += HandleChangeHP;

    InitHealth();
    InitBossHPBar();
    UpdateBossAnimation();
    GM.PlayerStatusUI.BossStatus();
}
```
![image](https://github.com/user-attachments/assets/3db8fef1-07cf-45e9-8967-c0d7ee25907d)  
- ì—¬ì „íˆ ``OnDie()``ê°€ ì¤‘ë³µ í˜¸ì¶œ ë˜ëŠ” í˜„ìƒë°œìƒ
2. ``HealthSystem.TakeDamage()`` í˜¸ì¶œ ì‹œ ``CurHP``ê°€ 0ì„ ì—¬ëŸ¬ ë²ˆ ê°ì§€í–ˆì„ ê°€ëŠ¥ì„±
  - ``TakeDamage()``ê°€ í•œ ë²ˆ ì‹¤í–‰ë  ë•Œ ``HealthSystem``ì´ ì—¬ëŸ¬ ë²ˆ ì²´ë ¥ 0ì„ ê°ì§€í•˜ê³  ``OnDeath``ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ.
  - ``TakeDamage()`` ë‚´ë¶€ì—ì„œ ì²´ë ¥ì´ 0 ì´í•˜ë¡œ ë‚´ë ¤ê°ˆ ë•Œ, `OnDeath`ê°€ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•´ì•¼ í•¨.
```csharp
// (ì„¤ëª…) TakeDamage()ì—ì„œ CurHPê°€ 0 ì´í•˜ë¡œ ë‚´ë ¤ê°€ëŠ” ê²½ìš° OnDeath ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
public void TakeDamage(float damage)
{
    if (HealthSystem != null)
    {
        Debug.Log($"[Boss] ì²´ë ¥ ê°ì†Œ ì „: {HealthSystem.CurHP}, ë°›ì€ ë°ë¯¸ì§€: {damage}");

        if (HealthSystem.CurHP <= 0)
        {
            Debug.Log("[Boss] ì´ë¯¸ ì‚¬ë§í•œ ìƒíƒœì…ë‹ˆë‹¤. OnDeath ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€!");
            return; // ì´ë¯¸ ì£½ì€ ìƒíƒœë¼ë©´ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
        }

        HealthSystem.TakeDamage(damage);
        BossRuntimeData.CurrentHealth = HealthSystem.CurHP; // ì²´ë ¥ ê°±ì‹ 
        StartCoroutine(TakeDamageCoroutine());
    }
}
```
![image](https://github.com/user-attachments/assets/f04b6f4e-1df2-48c0-a1a8-8c536a93300a)
- ì•„ì£¼ ì˜ë‚˜ì˜¤ê³ ìˆìŒ

---

## 3. ê²°ë¡ 
ì´ë²ˆ ë¬¸ì œëŠ” ë³´ìŠ¤ ì‚¬ë§ í›„ ë‹¤ìŒ ë³´ìŠ¤ IDê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì§€ ì•ŠëŠ” ë¬¸ì œì˜€ê³ , ì›ì¸ì€ OnDeath ì´ë²¤íŠ¸ê°€ ì¤‘ë³µ ì‹¤í–‰ë˜ëŠ” ê²ƒ.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ê±°ì³¤ë‹¤:

1. ë¬¸ì œ íŒŒì•…
- OnDie()ê°€ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë˜ë©° ë³´ìŠ¤ IDê°€ ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ ë³€ê²½ë¨ì„ í™•ì¸
- HealthSystem.OnDeathê°€ ì¤‘ë³µìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ìˆì„ ê°€ëŠ¥ì„±ì„ ê³ ë ¤

2. í•´ê²° ê³¼ì •
- HealthSystem.OnDeath -= OnDie; ë¥¼ ì¶”ê°€í•˜ì—¬ OnDie()ê°€ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ ìˆ˜ì •
- í•˜ì§€ë§Œ ì—¬ì „íˆ ì¤‘ë³µ í˜¸ì¶œ ë¬¸ì œê°€ ë°œìƒ

3. ìµœì¢… ìˆ˜ì •
- TakeDamage() ë‚´ë¶€ì—ì„œ CurHP <= 0 ì¡°ê±´ì„ ê²€ì‚¬í•˜ì—¬ ì´ë¯¸ ì‚¬ë§í•œ ê²½ìš° OnDeathê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ ë³€ê²½
- ì´ì œ OnDie()ê°€ ì •í™•íˆ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ í•´ê²°ë¨

ğŸ¯ ìµœì¢… ê²°ê³¼  
âœ… ë³´ìŠ¤ ì‚¬ë§ í›„ ì˜¬ë°”ë¥´ê²Œ ë‹¤ìŒ ë³´ìŠ¤ IDê°€ ì„¤ì •ë¨  
âœ… ì´ë²¤íŠ¸ ì¤‘ë³µ ì‹¤í–‰ ë¬¸ì œ í•´ê²°  
âœ… ì²´ë ¥ ê°ì†Œ ì‹œ ì‚¬ë§ ì´ë²¤íŠ¸ê°€ ì •í™•í•˜ê²Œ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨  

ğŸ” ë‹¤ìŒ ê°œì„  ë°©í–¥  
- HealthSystemì˜ ì´ë²¤íŠ¸ êµ¬ì¡°ë¥¼ ë” ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ì—¬, ë‹¤ë¥¸ ì  ìºë¦­í„°ì—ë„ ì‰½ê²Œ ì ìš© ê°€ëŠ¥í•˜ë„ë¡ ë¦¬íŒ©í† ë§  
- OnDeath ì™¸ì—ë„ ë‹¤ë¥¸ ì´ë²¤íŠ¸(ì˜ˆ: OnChangeHP ë“±)ê°€ ì¤‘ë³µ ì‹¤í–‰ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ì§€ ì ê²€  
- ë³´ìŠ¤ ì‚¬ë§ í›„ ë¶€í™œí•  ë•Œ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì¶”ê°€ ê³ ë ¤  
